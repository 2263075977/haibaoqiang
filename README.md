# 豆瓣影视数据爬取到Notion工具

这是一个自动化工具，用于从豆瓣网站搜索和提取电影/电视剧信息，然后将详细数据添加到Notion数据库。

## 功能特点

- 🔍 **搜索豆瓣电影/电视剧**：根据关键词搜索影视作品
- 📝 **提取详细信息**：自动获取导演、编剧、演员、类型、评分等详细信息
- 🖼️ **格式化剧情简介**：自动为简介添加段落和中文缩进格式
- 🔗 **人员链接支持**：导演、编剧、演员信息包含原始豆瓣链接
- 📊 **自动分类**：自动识别电影和电视剧
- 📲 **Notion集成**：将所有数据自动添加到Notion数据库

## 安装说明

### 前提条件

- Python 3.7+
- Chrome浏览器
- Notion账户和API密钥

### 安装步骤

1. 克隆或下载本项目
2. 安装依赖：
   ```bash
   pip install -r requirements.txt
   ```

3. 创建`.env`文件，设置以下环境变量：
   ```
   # Notion相关
   NOTION_TOKEN=your_notion_integration_token
   NOTION_DATABASE_ID=your_notion_database_id
   
   # 豆瓣Cookie相关(可选)
   DOUBAN_BID=your_douban_bid
   DOUBAN_LL=your_douban_ll
   DOUBAN_DBCL2=your_douban_dbcl2
   DOUBAN_CK=your_douban_ck
   ```

## Notion数据库设置

在Notion中创建一个数据库，并确保包含以下属性：

- **名称** (标题类型)：影片标题
- **类别** (选择类型)：电影/电视剧
- **导演** (富文本类型)：导演信息
- **编剧** (富文本类型)：编剧信息
- **主演** (富文本类型)：演员信息
- **类型** (多选类型)：影片类型标签
- **语言** (多选类型)：影片语言
- **评分** (数字类型)：豆瓣评分
- **IMDb** (富文本类型)：IMDb编号
- **首播** (富文本类型)：上映日期
- **简介** (富文本类型)：影片剧情简介
- **又名** (富文本类型)：影片别名

然后，将数据库与你创建的Notion集成共享。

## 使用方法

运行主程序：

```bash
python main.py
```

1. 输入要搜索的电影或电视剧名称
2. 程序自动选择最匹配的影片并提取详情
3. 详情信息自动添加到Notion数据库

操作简单，一键完成从搜索到添加的全过程。

## 注意事项

- 本工具仅供个人学习和研究使用
- 请遵守豆瓣网站的使用条款和robots.txt规定
- 频繁抓取数据可能导致IP被限制，请适度使用

## 许可证

MIT 